{% load static %}
<div
  class="bg-white w-full flex items-center justify-between p-3 md:px-10 text-gray-900 transition-all duration-300 sticky top-0 z-30">
  <!-- Profile Section -->
  <div class="flex items-center gap-4 ml-auto relative  cursor-pointer" id="profile-menu-toggle">
    <div class="relative w-8 h-8 bg-[#3f67dd1c] rounded-full p-1" >
      <img
        class="w-full h-full object-cover rounded-full"
        alt="Avatar"
        src="{% static 'asset_home/user.png' %}" />
    </div>

    <div class="flex flex-col items-end">
      <b class="text-sm font-semibold tracking-wide leading-[150%]">{{ user.username }}</b>
      <div class="text-xs font-normal text-gray-500 leading-[160%]">{{ user.role }}</div>
    </div>

    <!-- Dropdown Menu -->
    <div id="profile-dropdown" class="absolute right-0 mt-12 bg-white border border-gray-200 rounded shadow-lg hidden">
      <ul class="py-2">
        <li>
          <a href="{% url 'logout' %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Logout</a>
        </li>
      </ul>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const toggle = document.getElementById('profile-menu-toggle');
      const dropdown = document.getElementById('profile-dropdown');

      toggle.addEventListener('click', function () {
        dropdown.classList.toggle('hidden');
      });

      document.addEventListener('click', function (event) {
        if (!toggle.contains(event.target) && !dropdown.contains(event.target)) {
          dropdown.classList.add('hidden');
        }
      });
    });
  </script>
</div>
